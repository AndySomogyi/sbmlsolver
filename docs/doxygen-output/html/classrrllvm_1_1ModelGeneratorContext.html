<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>roadrunner: rrllvm::ModelGeneratorContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">roadrunner<span id="projectnumber">&#160;2.2.0</span>
   </div>
   <div id="projectbrief">Fast simulator for SBML models</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>rrllvm</b></li><li class="navelem"><a class="el" href="classrrllvm_1_1ModelGeneratorContext.html">ModelGeneratorContext</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classrrllvm_1_1ModelGeneratorContext-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">rrllvm::ModelGeneratorContext Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>All LLVM code generating objects basically need at a minimum three things to operate:  
 <a href="classrrllvm_1_1ModelGeneratorContext.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ModelGeneratorContext_8h_source.html">ModelGeneratorContext.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2301d4bd4fbecfd65912e4f90cb74df"><td class="memItemLeft" align="right" valign="top"><a id="ac2301d4bd4fbecfd65912e4f90cb74df" name="ac2301d4bd4fbecfd65912e4f90cb74df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ModelGeneratorContext</b> (const libsbml::SBMLDocument *_doc, unsigned options, std::unique_ptr&lt; <a class="el" href="classrrllvm_1_1Jit.html">Jit</a> &gt; jitEngine)</td></tr>
<tr class="memdesc:ac2301d4bd4fbecfd65912e4f90cb74df"><td class="mdescLeft">&#160;</td><td class="mdescRight">attach to an existing sbml document, we borrow a reference to this doc and DO NOT take ownership of it. <br /></td></tr>
<tr class="separator:ac2301d4bd4fbecfd65912e4f90cb74df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619188b61652e3b93638b53fc5d015d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1ModelGeneratorContext.html#a619188b61652e3b93638b53fc5d015d7">ModelGeneratorContext</a> ()</td></tr>
<tr class="memdesc:a619188b61652e3b93638b53fc5d015d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">does not attach to any sbml doc,  <a href="classrrllvm_1_1ModelGeneratorContext.html#a619188b61652e3b93638b53fc5d015d7">More...</a><br /></td></tr>
<tr class="separator:a619188b61652e3b93638b53fc5d015d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1c196f4f3eab85227a4d95f74cbd3e"><td class="memItemLeft" align="right" valign="top"><a id="ade1c196f4f3eab85227a4d95f74cbd3e" name="ade1c196f4f3eab85227a4d95f74cbd3e"></a>
const <a class="el" href="classrrllvm_1_1LLVMModelDataSymbols.html">LLVMModelDataSymbols</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getModelDataSymbols</b> () const</td></tr>
<tr class="separator:ade1c196f4f3eab85227a4d95f74cbd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b693f85b018fd86bc45e482357ad6ff"><td class="memItemLeft" align="right" valign="top"><a id="a9b693f85b018fd86bc45e482357ad6ff" name="a9b693f85b018fd86bc45e482357ad6ff"></a>
const <a class="el" href="classrrllvm_1_1LLVMModelSymbols.html">LLVMModelSymbols</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getModelSymbols</b> () const</td></tr>
<tr class="separator:a9b693f85b018fd86bc45e482357ad6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1aa9873d0ea45bcc1483269c304266"><td class="memItemLeft" align="right" valign="top"><a id="adf1aa9873d0ea45bcc1483269c304266" name="adf1aa9873d0ea45bcc1483269c304266"></a>
const libsbml::SBMLDocument *&#160;</td><td class="memItemRight" valign="bottom"><b>getDocument</b> () const</td></tr>
<tr class="separator:adf1aa9873d0ea45bcc1483269c304266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385227b7e5141abc5e3f4f37941f37df"><td class="memItemLeft" align="right" valign="top"><a id="a385227b7e5141abc5e3f4f37941f37df" name="a385227b7e5141abc5e3f4f37941f37df"></a>
const libsbml::Model *&#160;</td><td class="memItemRight" valign="bottom"><b>getModel</b> () const</td></tr>
<tr class="separator:a385227b7e5141abc5e3f4f37941f37df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6715881f01e813cb1346ca66dc55a51"><td class="memItemLeft" align="right" valign="top"><a id="ac6715881f01e813cb1346ca66dc55a51" name="ac6715881f01e813cb1346ca66dc55a51"></a>
<a class="el" href="classrrllvm_1_1Jit.html">Jit</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getJitNonOwning</b> () const</td></tr>
<tr class="separator:ac6715881f01e813cb1346ca66dc55a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63938c6a114a8c859110da2d3649189"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1ModelGeneratorContext.html#af63938c6a114a8c859110da2d3649189">transferObjectsToResources</a> (std::shared_ptr&lt; <a class="el" href="classrrllvm_1_1ModelResources.html">rrllvm::ModelResources</a> &gt; modelResources)</td></tr>
<tr class="memdesc:af63938c6a114a8c859110da2d3649189"><td class="mdescLeft">&#160;</td><td class="mdescRight">nearly all llvm functions expect a pointer to module, so we define this as a pointer type instead of reference, even though we gaurantee this to be non-null  <a href="classrrllvm_1_1ModelGeneratorContext.html#af63938c6a114a8c859110da2d3649189">More...</a><br /></td></tr>
<tr class="separator:af63938c6a114a8c859110da2d3649189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e5c1ec8f1a4232f2f2858dcfa3f1d9"><td class="memItemLeft" align="right" valign="top"><a id="ab2e5c1ec8f1a4232f2f2858dcfa3f1d9" name="ab2e5c1ec8f1a4232f2f2858dcfa3f1d9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>getConservedMoietyAnalysis</b> () const</td></tr>
<tr class="separator:ab2e5c1ec8f1a4232f2f2858dcfa3f1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9384a0ecb86c66472154484f656629d6"><td class="memItemLeft" align="right" valign="top"><a id="a9384a0ecb86c66472154484f656629d6" name="a9384a0ecb86c66472154484f656629d6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>useSymbolCache</b> () const</td></tr>
<tr class="separator:a9384a0ecb86c66472154484f656629d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bdacf7f4a2e177b6045f4105c315841"><td class="memItemLeft" align="right" valign="top"><a id="a4bdacf7f4a2e177b6045f4105c315841" name="a4bdacf7f4a2e177b6045f4105c315841"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>getOptions</b> () const</td></tr>
<tr class="separator:a4bdacf7f4a2e177b6045f4105c315841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae03d74871964f0ee688a5531d713c1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrr_1_1Random.html">Random</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1ModelGeneratorContext.html#aae03d74871964f0ee688a5531d713c1b">getRandom</a> () const</td></tr>
<tr class="memdesc:aae03d74871964f0ee688a5531d713c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a pointer to the random object.  <a href="classrrllvm_1_1ModelGeneratorContext.html#aae03d74871964f0ee688a5531d713c1b">More...</a><br /></td></tr>
<tr class="separator:aae03d74871964f0ee688a5531d713c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >All LLVM code generating objects basically need at a minimum three things to operate: </p>
<p >1: sbml Model - what to process 2: llvm Context - all llvm functions need this, manages llvm memory 3: llvm Module - where the generated code will go</p>
<p >Code generators also need to know the symbols that are in the sbml doc. These <em>could</em> be re-determined in each code gen, but wastefull. The symbols can be thought of as the first pass of the compiler, so all symbols are determined ahead of time before any code generation.</p>
<p >They also make use of an llvm IRBuilder, one of these <em>could</em> be allocated in each code gen object, but that would be wasteful, so we use a single one per sbml compilation, and each code gen just resets the builder insert point, that is what is was designed to do.</p>
<p >So, that leaves us with 5 object that are needed by code generators. Should all code gens have all 5 args passed to thier ctors? There is much talk about how context objects are evil, however this one is NOT inteneded to grow, only store the absolute minimun information that all code generators need.</p>
<p >This class basically functions as a set of ivars if all code generators were methods on a single code gen class.</p>
<p >TODO doc wise discuss the problems with context objects, and why this one address all the concerns.</p>
<p >TODO document memory managment, engine owns model, ... </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a619188b61652e3b93638b53fc5d015d7" name="a619188b61652e3b93638b53fc5d015d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a619188b61652e3b93638b53fc5d015d7">&#9670;&nbsp;</a></span>ModelGeneratorContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rrllvm::ModelGeneratorContext::ModelGeneratorContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>does not attach to any sbml doc, </p>
<p >useful for testing out LLVM functionality. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae03d74871964f0ee688a5531d713c1b" name="aae03d74871964f0ee688a5531d713c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae03d74871964f0ee688a5531d713c1b">&#9670;&nbsp;</a></span>getRandom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrr_1_1Random.html">Random</a> * rrllvm::ModelGeneratorContext::getRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get a pointer to the random object. </p>
<p >The random object exists if the document has the distrib package, is null otherwise. </p>

</div>
</div>
<a id="af63938c6a114a8c859110da2d3649189" name="af63938c6a114a8c859110da2d3649189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63938c6a114a8c859110da2d3649189">&#9670;&nbsp;</a></span>transferObjectsToResources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rrllvm::ModelGeneratorContext::transferObjectsToResources </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classrrllvm_1_1ModelResources.html">rrllvm::ModelResources</a> &gt;&#160;</td>
          <td class="paramname"><em>modelResources</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>nearly all llvm functions expect a pointer to module, so we define this as a pointer type instead of reference, even though we gaurantee this to be non-null </p>
<p >if optimization is enabled, this gets the function pass manager loaded with all the requested optimizers. NULL if no optimization is specified.</p>
<dl class="section return"><dt>Returns</dt><dd>a borrowed reference that is owned by <a class="el" href="classrrllvm_1_1ModelGeneratorContext.html" title="All LLVM code generating objects basically need at a minimum three things to operate:">ModelGeneratorContext</a> A lot can go wrong in the process of generating a model from an sbml doc. This class is intended to be stack allocated, so when any exception is thrown in the course of model generation, this class will clean up all the contexts and execution engines and so forth.</dd></dl>
<p>However, when a model is successfully generated, we need a way to give it the exec engine, and whatever other bits it requires.</p>
<p >So, this method exists so that the generated model can steal all the objects it needs from us, these object are transfered to the model, and our pointers to them are cleared. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>llvm/<a class="el" href="ModelGeneratorContext_8h_source.html">ModelGeneratorContext.h</a></li>
<li>llvm/ModelGeneratorContext.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
