\hypertarget{rrCModelGenerator_8h_source}{}\doxysection{rr\+CModel\+Generator.\+h}
\label{rrCModelGenerator_8h_source}\index{c/rrCModelGenerator.h@{c/rrCModelGenerator.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CModelGenerator\_H\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CModelGenerator\_H\_}}
\DoxyCodeLine{3 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}rrCompiledModelGenerator.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}rrModelSharedLibrary.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}rrCodeBuilder.h"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}rrCCompiler.h"{}}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{keyword}{namespace }rr}
\DoxyCodeLine{11 \{}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{using} Poco::Mutex;}
\DoxyCodeLine{14 }
\DoxyCodeLine{19 \textcolor{keyword}{class }RR\_DECLSPEC \mbox{\hyperlink{classrr_1_1CModelGenerator}{CModelGenerator}} : \textcolor{keyword}{public} \mbox{\hyperlink{classrr_1_1CompiledModelGenerator}{CompiledModelGenerator}}}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{public}:}
\DoxyCodeLine{23     \mbox{\hyperlink{classrr_1_1CModelGenerator}{CModelGenerator}}(\textcolor{keyword}{const} std::string\& tempFolder, \textcolor{keyword}{const} std::string\& supportCodeFolder, \textcolor{keyword}{const} std::string\& compiler);}
\DoxyCodeLine{24     \textcolor{keyword}{virtual}                            \mbox{\hyperlink{classrr_1_1CModelGenerator}{\string~CModelGenerator}}();}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{keyword}{virtual}  \mbox{\hyperlink{classrr_1_1ExecutableModel}{ExecutableModel}}            *createModel(\textcolor{keyword}{const} std::string\& sbml, uint options);}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool}                        setTemporaryDirectory(\textcolor{keyword}{const} std::string\& path);}
\DoxyCodeLine{29 }
\DoxyCodeLine{33     \textcolor{keyword}{virtual} std::string                      getTemporaryDirectory();}
\DoxyCodeLine{34 }
\DoxyCodeLine{39     \textcolor{keyword}{virtual}                             \mbox{\hyperlink{classrr_1_1Compiler}{Compiler}}* \mbox{\hyperlink{group__utility_gab3490137aa84bb6424ae8ccba0eb135c}{getCompiler}}();}
\DoxyCodeLine{40 }
\DoxyCodeLine{45     \textcolor{keyword}{virtual}                             \textcolor{keywordtype}{bool} \mbox{\hyperlink{group__utility_ga452d753989b5142b29528ae5865224ae}{setCompiler}}(\textcolor{keyword}{const} std::string\& compiler);}
\DoxyCodeLine{46 }
\DoxyCodeLine{50     std::string                              getHeaderCode();}
\DoxyCodeLine{51     std::string                              getSourceCode();}
\DoxyCodeLine{52     std::string                              getSourceCodeFileName();}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{keyword}{private}:}
\DoxyCodeLine{60     \mbox{\hyperlink{classrr_1_1ExecutableModel}{ExecutableModel}}                     *createModel(\textcolor{keyword}{const} std::string\& sbml, ls::LibStructural *ls,}
\DoxyCodeLine{61                                                      \textcolor{keywordtype}{bool} forceReCompile, \textcolor{keywordtype}{bool} computeAndAssignConsevationLaws);}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}                         mHeader;}
\DoxyCodeLine{64     \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}                         mSource;}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     std::string                              mHeaderCodeFileName;}
\DoxyCodeLine{67     std::string                              mSourceCodeFileName;}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     std::string                              mCurrentSBML;}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{comment}{// the shared lib thats created.}}
\DoxyCodeLine{72     \textcolor{comment}{// this needs to belong to the model}}
\DoxyCodeLine{73     \textcolor{comment}{// TODO: fix this!}}
\DoxyCodeLine{74     \mbox{\hyperlink{classrr_1_1ModelSharedLibrary}{ModelSharedLibrary}}                  *mModelLib;}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \mbox{\hyperlink{classrr_1_1CCompiler}{CCompiler}}                           mCompiler;}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     std::string                              mTempFileFolder;}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{keywordtype}{bool} generateModelCode(\textcolor{keyword}{const} std::string\& sbml, \textcolor{keyword}{const} std::string\& modelName, \textcolor{keywordtype}{bool} computeAndAssignConsevationLaws);}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{keyword}{static} Mutex                        mCompileMutex;}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \textcolor{keywordtype}{bool} compileModel();}
\DoxyCodeLine{85 }
\DoxyCodeLine{86     \textcolor{keywordtype}{bool} compileCurrentModel();}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 }
\DoxyCodeLine{89 }
\DoxyCodeLine{90     \textcolor{comment}{//C Specifics..}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     std::string                              getHeaderCodeFileName();}
\DoxyCodeLine{93     \textcolor{keywordtype}{bool}                                saveSourceCodeToFolder(\textcolor{keyword}{const} std::string\& folder, \textcolor{keyword}{const} std::string\& baseName);}
\DoxyCodeLine{94     \textcolor{keywordtype}{int}                                 \mbox{\hyperlink{group__floating_gab520e3bf495d490a96c5ee19870e7691}{getNumberOfFloatingSpecies}}();}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 }
\DoxyCodeLine{97     std::string                              convertUserFunctionExpression(\textcolor{keyword}{const} std::string\& equation);}
\DoxyCodeLine{98     std::string                              convertCompartmentToC(\textcolor{keyword}{const} std::string\& compartmentName);}
\DoxyCodeLine{99     std::string                              convertSpeciesToBc(\textcolor{keyword}{const} std::string\& speciesName);}
\DoxyCodeLine{100     std::string                              convertSpeciesToY(\textcolor{keyword}{const} std::string\& speciesName);}
\DoxyCodeLine{101 }
\DoxyCodeLine{106     std::string                              convertSymbolToC(\textcolor{keyword}{const} std::string\& compartmentName);}
\DoxyCodeLine{107     std::string                              convertSymbolToGP(\textcolor{keyword}{const} std::string\& parameterName);}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     \textcolor{keywordtype}{void}                                substituteEquation(\textcolor{keyword}{const} std::string\& reactionName, \mbox{\hyperlink{classrr_1_1Scanner}{Scanner}}\& s, \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{110     \textcolor{keywordtype}{void}                                substituteWords(\textcolor{keyword}{const} std::string\& reactionName, \textcolor{keywordtype}{bool} bFixAmounts, \mbox{\hyperlink{classrr_1_1Scanner}{Scanner}}\& s, \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{111     \textcolor{keywordtype}{void}                                substituteToken(\textcolor{keyword}{const} std::string\& reactionName, \textcolor{keywordtype}{bool} bFixAmounts, \mbox{\hyperlink{classrr_1_1Scanner}{Scanner}}\& s, \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{112     std::string                              findSymbol(\textcolor{keyword}{const} std::string\& varName);}
\DoxyCodeLine{113     \textcolor{keywordtype}{void}                                write\_getModelNameFunction(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& ignore, \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& source);}
\DoxyCodeLine{114     \textcolor{keywordtype}{void}                                writeComputeAllRatesOfChange(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numIndependentSpecies, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numDependentSpecies, DoubleMatrix\& L0);}
\DoxyCodeLine{115     \textcolor{keywordtype}{void}                                writeComputeConservedTotals(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numFloatingSpecies, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numDependentSpecies);}
\DoxyCodeLine{116     \textcolor{keywordtype}{void}                                writeUpdateDependentSpecies(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numIndependentSpecies, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numDependentSpecies, DoubleMatrix\& L0);}
\DoxyCodeLine{117     \textcolor{keywordtype}{void}                                writeUserDefinedFunctions(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{118     \textcolor{keywordtype}{void}                                writeResetEvents(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numEvents);}
\DoxyCodeLine{119     \textcolor{keywordtype}{void}                                writeSetConcentration(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{120     \textcolor{keywordtype}{void}                                writeGetConcentration(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{121     \textcolor{keywordtype}{void}                                writeConvertToAmounts(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{122     \textcolor{keywordtype}{void}                                writeConvertToConcentrations(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{123     \textcolor{keywordtype}{void}                                writeProperties(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{124     \textcolor{keywordtype}{void}                                writeAccessors(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{125     \textcolor{keywordtype}{void}                                writeOutVariables(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{126     \textcolor{keywordtype}{void}                                writeClassHeader(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{127     \textcolor{keywordtype}{void}                                writeTestConstraints(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{128     \textcolor{keywordtype}{void}                                writeEvalInitialAssignments(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numReactions);}
\DoxyCodeLine{129     \textcolor{keywordtype}{int}                                 writeComputeRules(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numReactions);}
\DoxyCodeLine{130     \textcolor{keywordtype}{void}                                writeComputeReactionRates(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numReactions);}
\DoxyCodeLine{131     \textcolor{keywordtype}{void}                                writeEvalEvents(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numEvents, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numFloatingSpecies);}
\DoxyCodeLine{132     \textcolor{keywordtype}{void}                                writeEvalModel(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numReactions, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numIndependentSpecies, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numFloatingSpecies, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numOfRules);}
\DoxyCodeLine{133     \textcolor{keywordtype}{void}                                writeEventAssignments(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numReactions, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numEvents);}
\DoxyCodeLine{134     \textcolor{keywordtype}{void}                                writeSetParameterValues(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numReactions);}
\DoxyCodeLine{135     \textcolor{keywordtype}{void}                                writeSetCompartmentVolumes(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{136     \textcolor{keywordtype}{void}                                writeSetBoundaryConditions(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb);}
\DoxyCodeLine{137     \textcolor{keywordtype}{void}                                writeSetInitialConditions(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sb, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& numFloatingSpecies);}
\DoxyCodeLine{138     \textcolor{keywordtype}{void}                                writeInitFunction(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sbh, \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sbc);}
\DoxyCodeLine{139     \textcolor{keywordtype}{void}                                writeInitModelDataFunction(\mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sbh, \mbox{\hyperlink{classrr_1_1CodeBuilder}{CodeBuilder}}\& sbc);}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     \textcolor{keywordtype}{int}                                 readFloatingSpecies();}
\DoxyCodeLine{142     \textcolor{comment}{// int                                 readBoundarySpecies();}}
\DoxyCodeLine{143 }
\DoxyCodeLine{144     \textcolor{comment}{// Generates the Model Code from the SBML std::string}}
\DoxyCodeLine{145     \textcolor{comment}{// TODO major clean up}}
\DoxyCodeLine{146     std::string                              generateModelCode(\textcolor{keyword}{const} std::string\& sbmlStr, \textcolor{keyword}{const} \textcolor{keywordtype}{bool}\& \_computeAndAssignConsevationLaws);}
\DoxyCodeLine{147 }
\DoxyCodeLine{148     \textcolor{comment}{// Generates the Model Code from th e SBML std::string}}
\DoxyCodeLine{149     \textcolor{comment}{// TODO major clean up also}}
\DoxyCodeLine{150     std::string                              generateModelCode(\textcolor{keyword}{const} std::string\& sbmlStr, LibStructural *ls, \mbox{\hyperlink{classrr_1_1NOMSupport}{NOMSupport}} *nom,}
\DoxyCodeLine{151                                                           \textcolor{keyword}{const} \textcolor{keywordtype}{bool}\& \_computeAndAssignConsevationLaws = \textcolor{keyword}{false});}
\DoxyCodeLine{152 }
\DoxyCodeLine{153     \textcolor{keyword}{static} \textcolor{keywordtype}{bool}                         loadSBMLIntoNOM(\mbox{\hyperlink{classrr_1_1NOMSupport}{NOMSupport}} \&nom, \textcolor{keyword}{const} std::string\& sbml);}
\DoxyCodeLine{154 }
\DoxyCodeLine{155 \};}
\DoxyCodeLine{156 }
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \}}
\DoxyCodeLine{159 }
\DoxyCodeLine{160 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
