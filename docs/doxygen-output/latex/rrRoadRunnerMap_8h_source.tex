\hypertarget{rrRoadRunnerMap_8h_source}{}\doxysection{rr\+Road\+Runner\+Map.\+h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by Ciaran on 09/12/2021.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef ROADRUNNER\_RRROADRUNNERMAP\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define ROADRUNNER\_RRROADRUNNERMAP\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}rrRoadRunner.h"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}thread\_pool.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}phmap.h"{}}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }rr \{}
\DoxyCodeLine{15 }
\DoxyCodeLine{22     \textcolor{keyword}{static} std::mutex rrMapMtx;}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 }
\DoxyCodeLine{30     \textcolor{keyword}{using} ThreadSafeUnorderedMap = phmap::parallel\_node\_hash\_map<std::string, std::unique\_ptr<RoadRunner>>;}
\DoxyCodeLine{31 }
\DoxyCodeLine{39     \textcolor{keyword}{class }\mbox{\hyperlink{classrr_1_1RoadRunnerMap}{RoadRunnerMap}} \{}
\DoxyCodeLine{40     \textcolor{keyword}{public}:}
\DoxyCodeLine{45         \mbox{\hyperlink{classrr_1_1RoadRunnerMap_abddb9c2088301dbd735518c8f44e9cf3}{RoadRunnerMap}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{46 }
\DoxyCodeLine{51         \textcolor{keyword}{explicit} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_abddb9c2088301dbd735518c8f44e9cf3}{RoadRunnerMap}}(\textcolor{keyword}{const} std::vector<std::string> \&sbmlStringsOrFiles, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} numThreads);}
\DoxyCodeLine{52 }
\DoxyCodeLine{57         std::vector<std::string> \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a04c55065dea70d20cd142bb44aa955e7}{getKeys}}() \textcolor{keyword}{const};}
\DoxyCodeLine{58 }
\DoxyCodeLine{64         std::vector<RoadRunner *> \mbox{\hyperlink{classrr_1_1RoadRunnerMap_aaf51a8e379e9ce9573a3675616b42e1f}{getValues}}() \textcolor{keyword}{const};}
\DoxyCodeLine{65 }
\DoxyCodeLine{70         std::vector<std::pair<std::string, RoadRunner *>> \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ae59ca74069ba95baadeeedfbc48995e8}{getItems}}() \textcolor{keyword}{const};}
\DoxyCodeLine{71 }
\DoxyCodeLine{82         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ae1caaf098019febfe65d00a7344e4131}{insert}}(std::unique\_ptr<RoadRunner> roadRunner);}
\DoxyCodeLine{83 }
\DoxyCodeLine{91         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ae1caaf098019febfe65d00a7344e4131}{insert}}(\textcolor{keyword}{const} std::string \&key, std::unique\_ptr<RoadRunner> roadRunner);}
\DoxyCodeLine{92 }
\DoxyCodeLine{101         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ae1caaf098019febfe65d00a7344e4131}{insert}}(\textcolor{keyword}{const} std::string \&sbmlOrFile);}
\DoxyCodeLine{102 }
\DoxyCodeLine{112         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ae1caaf098019febfe65d00a7344e4131}{insert}}(\textcolor{keyword}{const} std::string \&key, \textcolor{keyword}{const} std::string \&sbmlOrFile);}
\DoxyCodeLine{113 }
\DoxyCodeLine{123         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ae1caaf098019febfe65d00a7344e4131}{insert}}(\textcolor{keyword}{const} std::vector<std::string> \&sbmlStringsOrFiles);}
\DoxyCodeLine{124 }
\DoxyCodeLine{129         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a6d384b01fbf98397a0d475838ac5fd75}{erase}}(\textcolor{keyword}{const} std::string \&key);}
\DoxyCodeLine{130 }
\DoxyCodeLine{147         ThreadSafeUnorderedMap::iterator \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a34903c378ab7ac40ccc656bf4d0dac9d}{begin}}();}
\DoxyCodeLine{148         ThreadSafeUnorderedMap::const\_iterator \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a34903c378ab7ac40ccc656bf4d0dac9d}{begin}}() \textcolor{keyword}{const};}
\DoxyCodeLine{149 }
\DoxyCodeLine{159         ThreadSafeUnorderedMap::iterator \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a32cd8895262727088f335c25ae813e98}{end}}();}
\DoxyCodeLine{160         ThreadSafeUnorderedMap::const\_iterator \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a32cd8895262727088f335c25ae813e98}{end}}() \textcolor{keyword}{const};}
\DoxyCodeLine{161 }
\DoxyCodeLine{166         ThreadSafeUnorderedMap::iterator \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a1de37edd3f1822e61c98c200b1b4832a}{find}}(\textcolor{keyword}{const} std::string \&key);}
\DoxyCodeLine{167 }
\DoxyCodeLine{172         ThreadSafeUnorderedMap::const\_iterator \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a1de37edd3f1822e61c98c200b1b4832a}{find}}(\textcolor{keyword}{const} std::string \&key) \textcolor{keyword}{const};}
\DoxyCodeLine{173 }
\DoxyCodeLine{177         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ab6b731d13f9c513083d4ed3ad3daef37}{empty}}() \textcolor{keyword}{const};}
\DoxyCodeLine{178 }
\DoxyCodeLine{182         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_af9fe81b21e2e159f10bae6ed7be72c50}{size}}() \textcolor{keyword}{const};}
\DoxyCodeLine{183 }
\DoxyCodeLine{187         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a03349e67a3093ab5fbd86c10df56953f}{clear}}();}
\DoxyCodeLine{188 }
\DoxyCodeLine{193         \mbox{\hyperlink{classrr_1_1RoadRunner}{RoadRunner}} *\mbox{\hyperlink{classrr_1_1RoadRunnerMap_af4e532a36e0066b981b7a477f4fc9f67}{operator[]}}(\textcolor{keyword}{const} std::string \&key);}
\DoxyCodeLine{194 }
\DoxyCodeLine{199         \mbox{\hyperlink{classrr_1_1RoadRunner}{RoadRunner}} *\mbox{\hyperlink{classrr_1_1RoadRunnerMap_ad3859547479a3df5e699b6ea054f85d7}{at}}(\textcolor{keyword}{const} std::string \&key);}
\DoxyCodeLine{200 }
\DoxyCodeLine{201         \mbox{\hyperlink{classrr_1_1RoadRunner}{RoadRunner}} *\mbox{\hyperlink{classrr_1_1RoadRunnerMap_ad3859547479a3df5e699b6ea054f85d7}{at}}(\textcolor{keyword}{const} std::string \&key) \textcolor{keyword}{const};}
\DoxyCodeLine{202 }
\DoxyCodeLine{206         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a16ff276f7e61351ce79643831f3ee202}{wait\_for\_tasks}}();}
\DoxyCodeLine{207 }
\DoxyCodeLine{213         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_a1af8de359ac7fbca433c3e249a2d9496}{count}}(\textcolor{keyword}{const} std::string \&key);}
\DoxyCodeLine{214 }
\DoxyCodeLine{225         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_ad81f2df7069d3e6cf9fe7d9f2246711c}{setNumThreads}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} n);}
\DoxyCodeLine{226 }
\DoxyCodeLine{230         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classrr_1_1RoadRunnerMap_aa35ab70a630780f570b4ac5574c18728}{getNumThreads}}() \textcolor{keyword}{const};}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \textcolor{keyword}{private}:}
\DoxyCodeLine{238         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} numThreads\_ = 1;}
\DoxyCodeLine{239 }
\DoxyCodeLine{244         \textcolor{keywordtype}{void} loadParallel(\textcolor{keyword}{const} std::vector<std::string> \&sbmlFilesOrStrings);}
\DoxyCodeLine{245 }
\DoxyCodeLine{249         \textcolor{keywordtype}{void} loadSerial(\textcolor{keyword}{const} std::vector<std::string> \&sbmlFilesOrStrings);}
\DoxyCodeLine{250 }
\DoxyCodeLine{254         ThreadSafeUnorderedMap rrMap\_\{\};}
\DoxyCodeLine{255 }
\DoxyCodeLine{259         std::unique\_ptr<thread\_pool> pool = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{260     \};}
\DoxyCodeLine{261 }
\DoxyCodeLine{262 \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//ROADRUNNER\_RRROADRUNNERMAP\_H}}

\end{DoxyCode}
