\hypertarget{Matrix_8h_source}{}\doxysection{Matrix.\+h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by Ciaran on 08/07/2021.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef ROADRUNNER\_MATRIX\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define ROADRUNNER\_MATRIX\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}rr-\/libstruct/lsMatrix.h"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }rr \{}
\DoxyCodeLine{12 }
\DoxyCodeLine{13     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{14     \textcolor{keyword}{class }\mbox{\hyperlink{classrr_1_1Matrix}{Matrix}} : \textcolor{keyword}{public} ls::Matrix<T> \{}
\DoxyCodeLine{15     \textcolor{keyword}{public}:}
\DoxyCodeLine{16         \textcolor{keyword}{using} ls::Matrix<T>::Matrix;}
\DoxyCodeLine{17         \textcolor{keyword}{using} ls::Matrix<T>::numCols;}
\DoxyCodeLine{18         \textcolor{keyword}{using} ls::Matrix<T>::numRows;}
\DoxyCodeLine{19         \textcolor{keyword}{using} ls::Matrix<T>::operator();}
\DoxyCodeLine{20         \textcolor{keyword}{using} ls::Matrix<T>::operator[];}
\DoxyCodeLine{21         \textcolor{keyword}{using} ls::Matrix<T>::resize;}
\DoxyCodeLine{22         \textcolor{keyword}{using} ls::Matrix<T>::getArray;}
\DoxyCodeLine{23         \textcolor{keyword}{using} ls::Matrix<T>::getValues;}
\DoxyCodeLine{24         \textcolor{keyword}{using} ls::Matrix<T>::setColNames;}
\DoxyCodeLine{25         \textcolor{keyword}{using} ls::Matrix<T>::setRowNames;}
\DoxyCodeLine{26         \textcolor{keyword}{using} ls::Matrix<T>::rowNames;}
\DoxyCodeLine{27         \textcolor{keyword}{using} ls::Matrix<T>::colNames;}
\DoxyCodeLine{28         \textcolor{keyword}{using} ls::Matrix<T>::swapCols;}
\DoxyCodeLine{29         \textcolor{keyword}{using} ls::Matrix<T>::swapRows;}
\DoxyCodeLine{30 }
\DoxyCodeLine{35         \textcolor{keyword}{explicit} \mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}}(ls::Matrix<T> \&matrix);}
\DoxyCodeLine{36 }
\DoxyCodeLine{37         \textcolor{keyword}{explicit} \mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}}(ls::Matrix<T> *matrix);}
\DoxyCodeLine{38 }
\DoxyCodeLine{44         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_a15848a37cb50e749fb8f7f00ae0a6b22}{operator==}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} \&other);}
\DoxyCodeLine{45 }
\DoxyCodeLine{49         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_a4a1a8c0eada3c2c680cb5383fbd8e0e5}{operator!=}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} \&other);}
\DoxyCodeLine{50 }
\DoxyCodeLine{55         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_ad2be619ba028bf0f0b5c229c13f64063}{almostEquals}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<double>}} \&other, \textcolor{keyword}{const} \textcolor{keywordtype}{double} \&tolerance);}
\DoxyCodeLine{56 }
\DoxyCodeLine{60         \mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} \mbox{\hyperlink{classrr_1_1Matrix_adbdc267bb90e3e9c752758126e161791}{mult}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} matrix);}
\DoxyCodeLine{61 }
\DoxyCodeLine{66         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_a481abe78869b481e1b825734bb8a51a2}{empty}}();}
\DoxyCodeLine{67 }
\DoxyCodeLine{72         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_adaa546e9e056dbe943d43418653a123f}{sortRowsByLabels}}();}
\DoxyCodeLine{73 }
\DoxyCodeLine{78         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_af564bfd45b879ba4244021846cd1f4f4}{sortColsByLabels}}();}
\DoxyCodeLine{79 }
\DoxyCodeLine{89         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_ad75ae4a4b1772808706dece01a3f241d}{deleteRow}}(\textcolor{keywordtype}{int} which);}
\DoxyCodeLine{90 }
\DoxyCodeLine{100         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_ad75ae4a4b1772808706dece01a3f241d}{deleteRow}}(\textcolor{keyword}{const} std::string\& which);}
\DoxyCodeLine{101 }
\DoxyCodeLine{111         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_a0d367c7df1fa56958b30182c5e2cd352}{deleteCol}}(\textcolor{keywordtype}{int} which);}
\DoxyCodeLine{112 }
\DoxyCodeLine{122         \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_a0d367c7df1fa56958b30182c5e2cd352}{deleteCol}}(\textcolor{keyword}{const} std::string\& which);}
\DoxyCodeLine{123     \};}
\DoxyCodeLine{124 }
\DoxyCodeLine{129     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{130     \mbox{\hyperlink{classrr_1_1Matrix_ab29900c20cb7cd0627f1dd01d0b767e4}{Matrix<T>::Matrix}}(ls::Matrix<T> \&matrix) \{}
\DoxyCodeLine{131         resize(matrix.numRows(), matrix.numCols());}
\DoxyCodeLine{132         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numRows(); i++) \{}
\DoxyCodeLine{133             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < numCols(); j++) \{}
\DoxyCodeLine{134                 operator()(i, j) = matrix(i, j);}
\DoxyCodeLine{135             \}}
\DoxyCodeLine{136         \}}
\DoxyCodeLine{137         \textcolor{comment}{// row and col names are references, so we make a copy}}
\DoxyCodeLine{138         colNames = std::vector<std::string>(matrix.getColNames().begin(), matrix.getColNames().end());}
\DoxyCodeLine{139         rowNames = std::vector<std::string>(matrix.getRowNames().begin(), matrix.getRowNames().end());}
\DoxyCodeLine{140     \}}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{143     \mbox{\hyperlink{classrr_1_1Matrix_ab29900c20cb7cd0627f1dd01d0b767e4}{Matrix<T>::Matrix}}(ls::Matrix<T> *matrix)}
\DoxyCodeLine{144             : \mbox{\hyperlink{classrr_1_1Matrix}{Matrix}}<T>(*matrix) \{\}}
\DoxyCodeLine{145 }
\DoxyCodeLine{151     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{152     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_a15848a37cb50e749fb8f7f00ae0a6b22}{Matrix<T>::operator==}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} \&other) \{}
\DoxyCodeLine{153         \textcolor{comment}{// if both are empty, result is true}}
\DoxyCodeLine{154         \textcolor{keywordflow}{if} (empty() \&\& other.\mbox{\hyperlink{classrr_1_1Matrix_a481abe78869b481e1b825734bb8a51a2}{empty}}()) \{}
\DoxyCodeLine{155             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{156         \}}
\DoxyCodeLine{157         \textcolor{keywordflow}{if} (numRows() != other.numRows()) \{}
\DoxyCodeLine{158             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{159         \}}
\DoxyCodeLine{160         \textcolor{keywordflow}{if} (numCols() != other.numCols()) \{}
\DoxyCodeLine{161             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{162         \}}
\DoxyCodeLine{163 }
\DoxyCodeLine{164         \textcolor{keywordtype}{bool} equals = \textcolor{keyword}{true};}
\DoxyCodeLine{165         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numRows(); i++) \{}
\DoxyCodeLine{166             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < numCols(); j++) \{}
\DoxyCodeLine{167                 \textcolor{keywordflow}{if} (this-\/>\textcolor{keyword}{operator}()(i, j) != other(i, j)) \{}
\DoxyCodeLine{168                     equals = \textcolor{keyword}{false};}
\DoxyCodeLine{169                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{170                 \}}
\DoxyCodeLine{171             \}}
\DoxyCodeLine{172         \}}
\DoxyCodeLine{173         \textcolor{keywordflow}{return} equals;}
\DoxyCodeLine{174     \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{179     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{180     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_a4a1a8c0eada3c2c680cb5383fbd8e0e5}{Matrix<T>::operator!=}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} \&other) \{}
\DoxyCodeLine{181         \textcolor{keywordflow}{return} !(*\textcolor{keyword}{this} == other);}
\DoxyCodeLine{182     \}}
\DoxyCodeLine{183 }
\DoxyCodeLine{188     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{189     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_ad2be619ba028bf0f0b5c229c13f64063}{Matrix<T>::almostEquals}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<double>}} \&other, \textcolor{keyword}{const} \textcolor{keywordtype}{double} \&tolerance) \{}
\DoxyCodeLine{190         \textcolor{comment}{// when both matrices are empty, they are equal}}
\DoxyCodeLine{191         \textcolor{keywordflow}{if} (empty() \&\& other.\mbox{\hyperlink{classrr_1_1Matrix_a481abe78869b481e1b825734bb8a51a2}{empty}}()) \{}
\DoxyCodeLine{192             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{193         \}}
\DoxyCodeLine{194         \textcolor{keywordflow}{if} (numRows() != other.numRows()) \{}
\DoxyCodeLine{195             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{196         \}}
\DoxyCodeLine{197         \textcolor{keywordflow}{if} (numCols() != other.numCols()) \{}
\DoxyCodeLine{198             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{199         \}}
\DoxyCodeLine{200         \textcolor{keywordtype}{bool} equals = \textcolor{keyword}{true};}
\DoxyCodeLine{201         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numRows(); i++) \{}
\DoxyCodeLine{202             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < numCols(); j++) \{}
\DoxyCodeLine{203                 \textcolor{keywordflow}{if} ((this-\/>\textcolor{keyword}{operator}()(i, j) -\/ other(i, j)) > tolerance) \{}
\DoxyCodeLine{204                     equals = \textcolor{keyword}{false};}
\DoxyCodeLine{205                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{206                 \}}
\DoxyCodeLine{207             \}}
\DoxyCodeLine{208         \}}
\DoxyCodeLine{209         \textcolor{keywordflow}{return} equals;}
\DoxyCodeLine{210     \}}
\DoxyCodeLine{211 }
\DoxyCodeLine{212     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{213     \mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} \mbox{\hyperlink{classrr_1_1Matrix_adbdc267bb90e3e9c752758126e161791}{Matrix<T>::mult}}(\mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}} matrix) \{}
\DoxyCodeLine{214         ls::Matrix<T> mat = ls::mult(*\textcolor{keyword}{this}, matrix);}
\DoxyCodeLine{215         \textcolor{keywordflow}{return} \mbox{\hyperlink{classrr_1_1Matrix}{Matrix<T>}}(mat);}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{222     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{223     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrr_1_1Matrix_a481abe78869b481e1b825734bb8a51a2}{Matrix<T>::empty}}() \{}
\DoxyCodeLine{224         \textcolor{keywordflow}{if} (getArray() == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{225             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{226         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{227     \}}
\DoxyCodeLine{228 }
\DoxyCodeLine{233     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{234     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_adaa546e9e056dbe943d43418653a123f}{Matrix<T>::sortRowsByLabels}}() \{}
\DoxyCodeLine{235         \textcolor{keywordflow}{if} (rowNames.empty()) \{}
\DoxyCodeLine{236             \textcolor{comment}{// don't sort unlabelled matrices}}
\DoxyCodeLine{237             \textcolor{keywordflow}{return};}
\DoxyCodeLine{238         \}}
\DoxyCodeLine{239 }
\DoxyCodeLine{240         \textcolor{comment}{// dont sort 0 and 1 length row labels}}
\DoxyCodeLine{241         \textcolor{keywordflow}{if} (numRows() < 2) \{}
\DoxyCodeLine{242             \textcolor{keywordflow}{return};}
\DoxyCodeLine{243         \}}
\DoxyCodeLine{244 }
\DoxyCodeLine{245         std::vector<std::string> rowLabels = rowNames; \textcolor{comment}{// make copy}}
\DoxyCodeLine{246 }
\DoxyCodeLine{247         \textcolor{comment}{// now a cheeky bubble sort algorithm}}
\DoxyCodeLine{248         \textcolor{comment}{// poor performance, but easy to implement}}
\DoxyCodeLine{249         \textcolor{keywordtype}{bool} swapped = \textcolor{keyword}{false};}
\DoxyCodeLine{250         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < rowLabels.size() -\/ 1; i++) \{}
\DoxyCodeLine{251             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < rowLabels.size() -\/ 1; j++) \{}
\DoxyCodeLine{252                 \textcolor{keywordflow}{if} (rowLabels[j] > rowLabels[j + 1]) \{}
\DoxyCodeLine{253                     swapRows(j, j + 1);}
\DoxyCodeLine{254                     std::swap(rowLabels[j], rowLabels[j + 1]);}
\DoxyCodeLine{255                     swapped = \textcolor{keyword}{true};}
\DoxyCodeLine{256                 \}}
\DoxyCodeLine{257             \}}
\DoxyCodeLine{258             \textcolor{comment}{// little optimization}}
\DoxyCodeLine{259             \textcolor{keywordflow}{if} (!swapped) \{}
\DoxyCodeLine{260                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{261             \}}
\DoxyCodeLine{262         \}}
\DoxyCodeLine{263         setRowNames(rowLabels);}
\DoxyCodeLine{264     \}}
\DoxyCodeLine{265 }
\DoxyCodeLine{270     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{271     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_af564bfd45b879ba4244021846cd1f4f4}{Matrix<T>::sortColsByLabels}}() \{}
\DoxyCodeLine{272         \textcolor{keywordflow}{if} (colNames.empty()) \{}
\DoxyCodeLine{273             \textcolor{comment}{// don't sort unlabelled matrices}}
\DoxyCodeLine{274             \textcolor{keywordflow}{return};}
\DoxyCodeLine{275         \}}
\DoxyCodeLine{276 }
\DoxyCodeLine{277         \textcolor{comment}{// dont sort 0 and 1 length col labels}}
\DoxyCodeLine{278         \textcolor{keywordflow}{if} (numCols() < 2) \{}
\DoxyCodeLine{279             \textcolor{keywordflow}{return};}
\DoxyCodeLine{280         \}}
\DoxyCodeLine{281 }
\DoxyCodeLine{282         std::vector<std::string> colLabels = colNames; \textcolor{comment}{// make copy}}
\DoxyCodeLine{283 }
\DoxyCodeLine{284         \textcolor{comment}{// now a cheeky bubble sort algorithm}}
\DoxyCodeLine{285         \textcolor{comment}{// poor performance, but easy to implement}}
\DoxyCodeLine{286         \textcolor{keywordtype}{bool} swapped = \textcolor{keyword}{false};}
\DoxyCodeLine{287         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < colLabels.size() -\/ 1; i++) \{}
\DoxyCodeLine{288             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < colLabels.size() -\/ 1; j++) \{}
\DoxyCodeLine{289                 \textcolor{keywordflow}{if} (colLabels[j] > colLabels[j + 1]) \{}
\DoxyCodeLine{290                     swapCols(j, j + 1);}
\DoxyCodeLine{291                     std::swap(colLabels[j], colLabels[j + 1]);}
\DoxyCodeLine{292                     swapped = \textcolor{keyword}{true};}
\DoxyCodeLine{293                 \}}
\DoxyCodeLine{294             \}}
\DoxyCodeLine{295             \textcolor{comment}{// little optimization}}
\DoxyCodeLine{296             \textcolor{keywordflow}{if} (!swapped) \{}
\DoxyCodeLine{297                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{298             \}}
\DoxyCodeLine{299         \}}
\DoxyCodeLine{300         setColNames(colLabels);}
\DoxyCodeLine{301     \}}
\DoxyCodeLine{302 }
\DoxyCodeLine{303 }
\DoxyCodeLine{304     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{305     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_ad75ae4a4b1772808706dece01a3f241d}{Matrix<T>::deleteRow}}(\textcolor{keywordtype}{int} which) \{}
\DoxyCodeLine{306         \textcolor{keywordflow}{if} (which > numRows() -\/ 1) \{}
\DoxyCodeLine{307             \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}Cannot delete row "{}} + std::to\_string(which));}
\DoxyCodeLine{308         \}}
\DoxyCodeLine{309         \textcolor{comment}{// get the underlying array}}
\DoxyCodeLine{310         \textcolor{keyword}{auto} *arr = getArray();}
\DoxyCodeLine{311         \textcolor{comment}{// store original size for later}}
\DoxyCodeLine{312         \textcolor{keywordtype}{int} originalSize = this-\/>\_Rows * this-\/>\_Cols;}
\DoxyCodeLine{313 }
\DoxyCodeLine{314         \textcolor{comment}{// reduce the number of rows}}
\DoxyCodeLine{315         this-\/>\_Rows-\/-\/;}
\DoxyCodeLine{316         rowNames.erase(rowNames.begin() + which);}
\DoxyCodeLine{317 }
\DoxyCodeLine{318         \textcolor{keywordflow}{if} (which == this-\/>\_Rows) \{}
\DoxyCodeLine{327             \textcolor{keywordflow}{return};}
\DoxyCodeLine{328         \}}
\DoxyCodeLine{329 }
\DoxyCodeLine{330         \textcolor{comment}{// figure out which elements}}
\DoxyCodeLine{331         \textcolor{comment}{// in the underlying array to remove}}
\DoxyCodeLine{332         \textcolor{keywordtype}{int} firstIdx = which * this-\/>\_Cols;}
\DoxyCodeLine{333         \textcolor{keywordtype}{int} secondIdx = which * this-\/>\_Cols + this-\/>\_Cols;}
\DoxyCodeLine{334         \textcolor{keywordflow}{while} (secondIdx != originalSize) \{}
\DoxyCodeLine{335             \textcolor{comment}{// shift all items right of removed elements}}
\DoxyCodeLine{336             \textcolor{comment}{// to the left. We don't actually delete or}}
\DoxyCodeLine{337             \textcolor{comment}{// deallocate, but hide}}
\DoxyCodeLine{338             std::swap(arr[firstIdx], arr[secondIdx]);}
\DoxyCodeLine{339             secondIdx++;}
\DoxyCodeLine{340             firstIdx++;}
\DoxyCodeLine{341         \}}
\DoxyCodeLine{342     \}}
\DoxyCodeLine{343 }
\DoxyCodeLine{344     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{345     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_ad75ae4a4b1772808706dece01a3f241d}{Matrix<T>::deleteRow}}(\textcolor{keyword}{const} std::string\& which)\{}
\DoxyCodeLine{346         \textcolor{keyword}{auto} it = std::find(rowNames.begin(), rowNames.end(), which);}
\DoxyCodeLine{347         \textcolor{keywordflow}{if} (it != rowNames.end())\{}
\DoxyCodeLine{348             \textcolor{comment}{// item has been found. Find its index}}
\DoxyCodeLine{349             \textcolor{keywordtype}{int} idx = std::distance(rowNames.begin(), it);}
\DoxyCodeLine{350             deleteRow(idx);}
\DoxyCodeLine{351         \}}
\DoxyCodeLine{352     \}}
\DoxyCodeLine{353 }
\DoxyCodeLine{354     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{355     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_a0d367c7df1fa56958b30182c5e2cd352}{Matrix<T>::deleteCol}}(\textcolor{keywordtype}{int} which) \{}
\DoxyCodeLine{356         \textcolor{keywordflow}{if} (which > numCols() -\/ 1) \{}
\DoxyCodeLine{357             \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}Cannot delete col "{}} + std::to\_string(which));}
\DoxyCodeLine{358         \}}
\DoxyCodeLine{359         \textcolor{comment}{// get the underlying array}}
\DoxyCodeLine{360         \textcolor{keyword}{auto} *arr = getArray();}
\DoxyCodeLine{361         \textcolor{comment}{// store original size for later}}
\DoxyCodeLine{362         \textcolor{keywordtype}{int} originalSize = this-\/>\_Rows * this-\/>\_Cols;}
\DoxyCodeLine{363 }
\DoxyCodeLine{364         \textcolor{comment}{// start at the last index that we need to move}}
\DoxyCodeLine{365         \textcolor{comment}{// logic of this computation:}}
\DoxyCodeLine{366         \textcolor{comment}{//  start on the last row at "{}(numRows -\/ 1) * numCols"{}}}
\DoxyCodeLine{367         \textcolor{comment}{//  then add the idx of column we want (which).}}
\DoxyCodeLine{368         \textcolor{keywordtype}{int} idx = which + ((this-\/>\_Rows -\/ 1) * this-\/>\_Cols);}
\DoxyCodeLine{369 }
\DoxyCodeLine{370         \textcolor{keywordflow}{while} (idx >= which) \{}
\DoxyCodeLine{371             \textcolor{comment}{// if we are deleting the last column, then the item at}}
\DoxyCodeLine{372             \textcolor{comment}{// the last index (Row*Col) should not be swapped.}}
\DoxyCodeLine{373             \textcolor{comment}{// In this case, we just leave the item inplace. Reducing}}
\DoxyCodeLine{374             \textcolor{comment}{// number of columns hides the extra data from the user.}}
\DoxyCodeLine{375             \textcolor{keywordflow}{if} (idx == originalSize -\/ 1) \{}
\DoxyCodeLine{376                 \textcolor{comment}{// aaand remember to increment the idx}}
\DoxyCodeLine{377                 idx -\/= this-\/>\_Rows + (this-\/>\_Cols -\/ this-\/>\_Rows);}
\DoxyCodeLine{378                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{379             \}}
\DoxyCodeLine{380 }
\DoxyCodeLine{381             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = idx; i < originalSize -\/ 1; i++) \{}
\DoxyCodeLine{382                 std::swap(arr[i], arr[i + 1]);}
\DoxyCodeLine{383             \}}
\DoxyCodeLine{384 }
\DoxyCodeLine{385             \textcolor{comment}{// when num cols > num rows}}
\DoxyCodeLine{386             idx -\/= this-\/>\_Rows + (this-\/>\_Cols -\/ this-\/>\_Rows);}
\DoxyCodeLine{387         \}}
\DoxyCodeLine{388 }
\DoxyCodeLine{389         \textcolor{comment}{// reduce the number of columns}}
\DoxyCodeLine{390         this-\/>\_Cols-\/-\/;}
\DoxyCodeLine{391         colNames.erase(colNames.begin() + which);}
\DoxyCodeLine{392     \}}
\DoxyCodeLine{393 }
\DoxyCodeLine{394 }
\DoxyCodeLine{395     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{396     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrr_1_1Matrix_a0d367c7df1fa56958b30182c5e2cd352}{Matrix<T>::deleteCol}}(\textcolor{keyword}{const} std::string\& which)\{}
\DoxyCodeLine{397         \textcolor{keyword}{auto} it = std::find(colNames.begin(), colNames.end(), which);}
\DoxyCodeLine{398         \textcolor{keywordflow}{if} (it != colNames.end())\{}
\DoxyCodeLine{399             \textcolor{comment}{// item has been found. Find its index}}
\DoxyCodeLine{400             \textcolor{keywordtype}{int} idx = std::distance(colNames.begin(), it);}
\DoxyCodeLine{401             deleteCol(idx);}
\DoxyCodeLine{402         \}}
\DoxyCodeLine{403     \}}
\DoxyCodeLine{404 }
\DoxyCodeLine{405 \} \textcolor{comment}{// namespace rr}}
\DoxyCodeLine{406 }
\DoxyCodeLine{407 }
\DoxyCodeLine{408 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//ROADRUNNER\_MATRIX\_H}}

\end{DoxyCode}
