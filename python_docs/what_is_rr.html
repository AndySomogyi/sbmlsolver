<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What is libRoadRunner &mdash; libRoadRunner 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="libRoadRunner 1.0.0 documentation" href="index.html" />
    <link rel="up" title="Introduction" href="introduction.html" />
    <link rel="next" title="SBML Read/Write Functions" href="read_write_functions.html" />
    <link rel="prev" title="What Is SBML?" href="what_is_sbml.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="read_write_functions.html" title="SBML Read/Write Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="what_is_sbml.html" title="What Is SBML?"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">libRoadRunner 1.0.0 documentation</a> &raquo;</li>
          <li><a href="introduction.html" accesskey="U">Introduction</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="what-is-libroadrunner">
<h1>What is libRoadRunner<a class="headerlink" href="#what-is-libroadrunner" title="Permalink to this headline">¶</a></h1>
<p>RoadRunner is package for loading, JIT compilation, simulation and
analysis of SBML systems biology models.</p>
<p>RoadRunner 1.0</p>
<p>Up to date documentation can be found on <a class="reference external" href="http://libroadrunner.org/">http://libroadrunner.org/</a>
Also the static <a class="reference external" href="../index.html">documentation home page</a> provides an introduction.</p>
<div class="section" id="licence-and-copyright">
<h2>Licence and Copyright<a class="headerlink" href="#licence-and-copyright" title="Permalink to this headline">¶</a></h2>
<p>libRoadRunner is free and open source. Licensing and Distribution
Terms can be found in the LICENCE.txt file in the root directory
of the distribution.</p>
<p>Copyright (C) 2012-2013 University of Washington, Seattle, WA, USA</p>
<p>Licensed under the Apache License, Version 2.0: <a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0.html">http://www.apache.org/licenses/LICENSE-2.0.html</a></p>
<p><a class="reference external" href="http://libroadrunner.org/">http://libroadrunner.org/</a></p>
</div>
<div class="section" id="fundamental-objects">
<h2>Fundamental Objects<a class="headerlink" href="#fundamental-objects" title="Permalink to this headline">¶</a></h2>
<p>The libRoadRunner package uses two fundametal objects e.g. <tt class="docutils literal"><span class="pre">rr</span></tt> of
class <tt class="docutils literal"><span class="pre">RoadRunner</span></tt> and e.g. <tt class="docutils literal"><span class="pre">rr.model</span></tt> of class <tt class="docutils literal"><span class="pre">ExecutableModel</span></tt>.</p>
<dl class="docutils">
<dt><strong>RoadRunner</strong></dt>
<dd><ul class="first last simple">
<li>Typically the top level object</li>
<li>Responsible for orchestrating all of the internal components, such as model loading,
JIT compilation, integration and output.</li>
<li>Initialized with <tt class="docutils literal"><span class="pre">rr</span> <span class="pre">=</span> <span class="pre">roadrunner.RoadRunner()</span></tt></li>
</ul>
</dd>
<dt><strong>ExecutableModel</strong></dt>
<dd><ul class="first last simple">
<li>Represents a compiled sbml model</li>
<li>Properties to get and set any state variables.</li>
<li>Initialized when SBML is loaded <tt class="docutils literal"><span class="pre">r.load('mymodel.xml')</span></tt></li>
</ul>
</dd>
</dl>
<p>The Python API is a very clean simple interface that uses all native Python objects.
All the returned types are structured <cite>Numpy</cite> arrays.</p>
</div>
<div class="section" id="example-of-libroadrunner-in-use">
<h2>Example of libRoadRunner in Use<a class="headerlink" href="#example-of-libroadrunner-in-use" title="Permalink to this headline">¶</a></h2>
<p>Transcript from an Python session to demonstrate libRoadRunner use on this interactive Python console.</p>
<p><strong>Import</strong> roardrunner and numpy:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">roadrunner</span>
<span class="kn">import</span> <span class="nn">roadrunner.testing</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">n</span>
<span class="kn">import</span> <span class="nn">numpy.linalg</span> <span class="kn">as</span> <span class="nn">lin</span>
</pre></div>
</div>
<p><strong>Load</strong> an SBML model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">rr</span> <span class="o">=</span> <span class="n">roadrunner</span><span class="o">.</span><span class="n">RoadRunner</span><span class="p">()</span>
<span class="n">rr</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">roadrunner</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">&#39;Test_1.xml&#39;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="bp">True</span>
</pre></div>
</div>
</dd>
</dl>
<p>Get the <strong>model</strong>, the model object has all the accessors sbml elements, names, values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m</span> <span class="o">=</span> <span class="n">rr</span><span class="o">.</span><span class="n">getModel</span><span class="p">()</span>
</pre></div>
</div>
<p>Use the built in RR function to get the <strong>Jacobian</strong>, notice this is returned as a native
numpy matrix, and display it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">jac</span> <span class="o">=</span> <span class="n">rr</span><span class="o">.</span><span class="n">getFullJacobian</span><span class="p">()</span>
<span class="n">jac</span>
</pre></div>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.2</span>  <span class="p">,</span>  <span class="mf">0.067</span><span class="p">,</span>  <span class="mf">0.</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.15</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.467</span><span class="p">,</span>  <span class="mf">0.09</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span>   <span class="p">,</span>  <span class="mf">0.4</span>  <span class="p">,</span> <span class="o">-</span><span class="mf">0.64</span> <span class="p">]])</span>
</pre></div>
</div>
</dd>
</dl>
<p>Get a vector of <strong>floating species amounts</strong>, and display it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">amt</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">getFloatingSpeciesAmounts</span><span class="p">()</span>
<span class="n">amt</span>
</pre></div>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span> <span class="mf">0.1</span> <span class="p">,</span>  <span class="mf">0.25</span><span class="p">,</span>  <span class="mf">0.1</span> <span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
<p>Look at the <strong>floating species ids</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m</span><span class="o">.</span><span class="n">getFloatingSpeciesIds</span><span class="p">()</span>
</pre></div>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;S1&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">,</span> <span class="s">&#39;S3&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
<p>Numpy has a huge amount of numeric capability, here we calculate
the <strong>eigensystem from the Jacobian</strong>.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lin</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">jac</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.15726345</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.38237134</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.76736521</span><span class="p">]),</span>
 <span class="n">array</span><span class="p">([[</span> <span class="mf">0.77009381</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.19510707</span><span class="p">,</span>  <span class="mf">0.03580588</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.49121122</span><span class="p">,</span>  <span class="mf">0.53107368</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.30320915</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.40702219</span><span class="p">,</span>  <span class="mf">0.82455683</span><span class="p">,</span>  <span class="mf">0.95225109</span><span class="p">]]))</span>
</pre></div>
</div>
</dd>
</dl>
<p>Suppose we wanted to calculate the matrix vector product of the <strong>jacobian with the
floating species amounts</strong>, its a single statement, since we use native types.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">n</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">jac</span><span class="p">,</span> <span class="n">amt</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.00325</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09275</span><span class="p">,</span>  <span class="mf">0.036</span>  <span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
<p>Finally, you can of course <strong>simulate over time</strong>. The first column in result is time,
the rest are whatever is selected. The easies way to plot is to use <tt class="docutils literal"><span class="pre">roadrunner.plot</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">results</span> <span class="o">=</span> <span class="n">rr</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="n">roadrunner</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">To get numpy unstructured array, see: <a class="reference internal" href="using_roadrunner.html#plotting-data"><em>Plotting Data</em></a></p>
</div>
<p>Using libRoadRunner in <a class="reference external" href="http://ipython.org/">IPython</a> you can <strong>get documentation</strong>
easily using a <tt class="docutils literal"><span class="pre">?</span></tt> after the object or method:</p>
<div class="highlight-python"><pre>rr.simulate?</pre>
</div>
<dl class="docutils">
<dt></dt>
<dd><div class="first last highlight-python"><pre>Type:       instancemethod
String Form:&lt;bound method RoadRunner.simulate of &lt;roadrunner.RoadRunner() { this = 03D2E6F0 }&gt;&gt;
File:       c:\python27\lib\site-packages\roadrunner\roadrunner.py


Definition: rr.simulate(self, *args)
Docstring:
RoadRunner.simulate(*args)

Simulate the current SBML model.

There are a number of ways to call simulate.

1. With no arguments. In this case, the current set of `SimulateOptions` will
   be used for the simulation. The current set may be changed either directly
   via setSimulateOptions() or with one of the two alternate ways of calling
   simulate.

2: With single `SimulateOptions` argument. In this case, all of the settings
   in the given options are copied and will be used for the current and future
   simulations.

3: With the three positions arguments, `timeStart`, `timeEnd`, `steps`. In this case
   these three values are copied and will be used for the current and future simulations.

The options given in the 2nd and 3rd forms will remain in effect until changed. So, if
one calls::

  rr.simulate (0, 3.14, 100)

The start time of 0, end time of 3.14 and steps of 100 will remain in effect, so that if this
is followed by a call to::

  rr.simulate()

This simulation will use the previous values.

:returns: a numpy array with each selected output timeseries being a
          column vector, and the 0'th column is the simulation time.
:rtype: numpy.ndarray</pre>
</div>
</dd>
</dl>
</div>
<div class="section" id="technical-footnotes">
<h2>Technical Footnotes<a class="headerlink" href="#technical-footnotes" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Much of the time, the Numpy array just holds a pointer to a block of data owned
by RoadRunner, for example, the array returned by <cite>rr.simulate()</cite> just has a pointer
to the results matrix which is owned by the <cite>RoadRunner</cite>, so there is NO COPYING
involved. If you have no need for the result, just ignore it, it costs virtually
nothing to return it.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><p class="first">Current State of the System Group</p>
<p>When using the LLVM back end, all model state calculation are automatically
performed using a techinque called lazy evaluation. If one sets the concentration
of a species, the amount of of that species is automatically available without
having to perform any addition operations. Similarly with any other value in the model.</p>
<p>If an SBML parameter is defined by an assigment rule or function and its value then
depends on a number of other values, simply setting to other values automatically
cause the value of the most dependent variable to be set.</p>
<p class="last">This is identical how one operates in a spredsheet such as Microsoft Excel. For
example, if one has a cell with an equation that depends on other cell, and those
other cell depend on other values, setting the value of any upstream cell automatically
causes that value to cascade down to the terminal cells. The LLVM back end roadruner
function identically.</p>
</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What is libRoadRunner</a><ul>
<li><a class="reference internal" href="#licence-and-copyright">Licence and Copyright</a></li>
<li><a class="reference internal" href="#fundamental-objects">Fundamental Objects</a></li>
<li><a class="reference internal" href="#example-of-libroadrunner-in-use">Example of libRoadRunner in Use</a></li>
<li><a class="reference internal" href="#technical-footnotes">Technical Footnotes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="what_is_sbml.html"
                        title="previous chapter">What Is SBML?</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="read_write_functions.html"
                        title="next chapter">SBML Read/Write Functions</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/what_is_rr.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="read_write_functions.html" title="SBML Read/Write Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="what_is_sbml.html" title="What Is SBML?"
             >previous</a> |</li>
        <li><a href="index.html">libRoadRunner 1.0.0 documentation</a> &raquo;</li>
          <li><a href="introduction.html" >Introduction</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Andy Somogyi, Herbert Suaro.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b2.
    </div>
  </body>
</html>