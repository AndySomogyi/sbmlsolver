
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <title>Build Roarunner from Source</title>

    <meta name="description" content="howto build the library">
    <meta name="author" content="libroadrunner team">
    
    <link rel="stylesheet" href="/assets/themes/ghminimal/css/styles.css">
    <link rel="stylesheet" href="/assets/themes/ghminimal/css/pygment_trac.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header class="main">
        <hgroup>
          <h1><a href="/">Roadrunner</a></h1>
          
          <h2>speedy simulation engine</h2>
          
        </hgroup>
        <ul class="buttons">
          <li><a href="http://sourceforge.net/projects/libroadrunner/files" rel="me">SourceForge <strong>Download</strong></a></li>
          <li><a href="https://github.com/AndySomogyi/roadrunner" rel="me">GitHub <strong>Code</strong></a></li>
          <li><a href="http://analogmachine.org/roadRunnerTracker/" rel="me">FlySpray <strong>Issues</strong></a></li>
        </ul>
        <ul class="buttons">
          <li><a href="/pydoc/index.html" rel="me">Docs <strong>Python API</strong></a></li>
          <li><a href="http://roadrunnerlib.googlecode.com/svn/documents/c_api/html/index.html" rel="me">Docs<strong>C API</strong></a></li>
          <li><a href="/html" rel="me">Docs<strong>C++ API</strong></a></li>
        </ul>
      </header>
      <section class="main">
        
<h1>Build Roarunner from Source</h1>

<h2 id='introduction'>Introduction</h2>

<p>The RoadRunner library is written in C/C++. It has currently been compiled successfully on Windows using Visual Studio and Borland compilers, and on Linux and MacOS, using the gcc compiler. Bindary distributions are available for Windows and Mac.</p>

<p>Please follow the following steps in order to successfully compile and link the RoadRunner library on your platform.</p>

<p>First Read the the rest of this page then choose the instructions for your platform:</p>

<ul>
<li><a href='buildrr_visualstudio.html'>VisualStudio 2010</a></li>

<li><a href='buildrr_linux.html'>Linux</a></li>
</ul>

<p>This document assume a working knowledge of the tools involved, i.e. subversion, CMake and your compiler.</p>

<p>Also, please <strong>observe</strong> that this page outlines a <strong>generic</strong> procedure to build RoadRunner and ThirdParty libraries. For each individual compiler, however, some steps, or variable in the procedure may need a special setting or a tweak. Such tweaks are found on a separate page, associated to the compiler in question. That said, before executing the steps outlined below, please take a look at the specific compiler page for any additional steps needed in order to produce a proper end target.</p>

<h2 id='the_source'>The Source</h2>

<p>The source code for RoadRunner is managed by a svn repository located on Google code. The build instructions that follows below will assume that you have checked out the code from the <strong>trunk</strong> folder, which has the address:</p>

<p><code>http://roadrunnerlib.googlecode.com/svn/trunk/</code></p>

<p>Any standard svn client can be used to check out the code.</p>

<h3 id='the_source_and_thirdparties'>The source and ThirdParties</h3>

<p>RoadRunner depends on several ThirdParty libraries. On Windows, all such necessary dependencies are satisfied out of the box, while on Linux, various ThirdParties may need to be installed separately. This will be noted in the build instructions as needed.</p>

<h2 id='build_process_overview'>Build process overview</h2>

<p>The final &#8216;product&#8217; of building the RoadRunner source is binary libraries and applications. In short, the libraries will be</p>

<ul>
<li>ThirdParty libraries - various C and C++ libs</li>

<li>RoadRunner C++ library</li>

<li>RoadRunner C-API library (Wrapper for the C++ library)</li>
</ul>

<p>Useful applications that can be built are:</p>

<ul>
<li>RoadRunner command line application: rr</li>

<li>RoadRunner command line application: rr_c (application using the C-API of roadrunner)</li>
</ul>

<p>In short, the whole build process will require the following steps</p>

<ol>
<li>Code is checked out from the repository trunk.</li>

<li>The CMake GUI is used to create Build Files for your particular compiler. At least two sets of build files are required to completely build Roadrunner, A) ThirdParty libs build files, and B) build files for the RoadRunner library and RoadRunner applications.</li>

<li>The ThirdParty libraries are built and installed using a compiler, by the generated build files from step 2.</li>

<li>RoadRunner library, and associated applications are built.</li>
</ol>

<h2 id='get_started'>Get started</h2>

<p>In the following we will go through the process of setting up a development environment using the visual studio compiler. However, specific tweaks for any compiler can found be on the specific page associated with the relevant compiler. See below for links to specific compilers.</p>

<h3 id='organize_your_folders'>Organize your folders</h3>

<p>An organized folder setup is recommended. In the following a structure similar to the following will be used:</p>

<pre><code>top_folder
  builds 
    debug
      rr
      ThirdParty
    release
      rr
      ThirdParty
  installs
    debug
    release
  trunk
... </code></pre>

<p>It is important to note that build files are kept separate from source files, and install files separate from build and source files as well.</p>

<h2 id='step_1__check_out_the_source_code'>Step 1 - Check out the source code</h2>

<p>Check out the trunk from the source code repository, at <a href='https://github.com/AndySomogyi/roadrunner'>https://github.com/AndySomogyi/roadrunner</a> (Plese see the docs for your svn client on how to do this.) In the following, it is assumed the trunk is checked out to a folder c:\vs\trunk</p>

<h2 id='step_2a__create_thirdparty_build_files'>Step 2A - Create ThirdParty build files</h2>

<p>Open a CMake GUI and</p>

<ol>
<li>Point the &#8216;Where is the source code:&#8217; to <code>c:\vs\trunk\ThirdParty</code></li>

<li>Set &#8216;Where to build the binaries:&#8217; to <code>c:\vs\builds\debug\ThirdParty</code> indicating a debug build of the ThirdParties.</li>
</ol>

<p>Click the <strong>Configure</strong> button and select your desired compiler. In this example, we are using Microsoft&#8217;s Visual Studio 2010 compiler. At this point, you should see something like the following:</p>

<p><img alt='ThirdPartyCMake.jpg' src='assets/images/ThirdPartyCMake.jpg' /></p>

<p>For our setup, the only modification needed, before generating the build files is Change the <strong>CMAKE_INSTALL_PREFIX</strong> from <code>C:/Program Files (x86)/RRThirdPartyBuild</code></p>

<p><strong>to }</strong>. After changing the CMAKE_INSTALL_PREFIX option, press configure again and observe that each option has changed color from Red to White. This change indicate success. If success is achieved, click the <strong>Generate</strong> button in order to generate the actual build files for ThirdParties. At this point, you should have something like this:</p>

<p><img alt='ThirdPartyCMakeB.jpg' src='assets/images/ThirdPartyCMakeB.jpg' /></p>

<h2 id='step_2b__generate_roadrunner_build_files'>Step 2B - Generate RoadRunner build files</h2>

<p>Open a CMake GUI and point the</p>

<ol>
<li>&#8216;Where is the source:&#8217; to c:\vs\trunk and</li>

<li>Set &#8216;Where to build the binaries:&#8217; to c:\vs\builds\debug\rr indicating a debug build of RoadRunner sources.</li>
</ol>

<p>Then click the <strong>Configure</strong> button and select the same compiler and version as in Step 2A. At this point, you should see something like this:</p>

<p><img alt='RRCMakeA.jpg' src='assets/images/RRCMakeA.jpg' /></p>

<p>As for the ThirdParties, modify the <strong>CMAKE_INSTALL_PREFIX</strong> from <code>C:/Program Files (x86)/rr</code></p>

<p>to <code>C:\vs\installs\debug</code></p>

<p>The RoadRunner build needs to know where the ThirdParty library was installed. The option <strong>THIRD_PARTY_INSTALL_FOLDER</strong> handles this. Modify <strong>THIRD_PARTY_INSTALL_FOLDER</strong> to point to <code>c:/vs/installs/debug</code>, i.e. to the folder where the ThirdParties were installed.</p>

<p>After changing the CMAKE_INSTALL_PREFIX and the THIRD_PARTY_INSTALL_FOLDER options, press configure again and wait until each option has changed color from Red to White. Then click <strong>Generate</strong> to generate the actual build files. At this point, the CMake UI should contain something like this:</p>

<p><img alt='RRCMakeB.jpg' src='assets/images/RRCMakeB.jpg' /></p>

<h2 id='step_3_build_and_install_the_thirdparty_and_roadrunner_library'>Step 3 -Build and install the ThirdParty and RoadRunner library</h2>

<p>When the build files have been generated, building and installing the libraries is straightforward. The order is important, however, and the ThirdParty library needs to be built and installed before building and installing RoadRunner itself.</p>

<p>The generated build files comes in various forms, depending on which compiler you selected. Here follows some brief notes on how to deal with the different compilers.</p>

<h3 id='visual_studio'>Visual Studio</h3>

<p>CMake generates solution (.sln) and project files (.prj) for Visual Studio. Typically the solution file is opened in the Visual Studio UI and the <strong>INSTALL</strong> target is executed. See screenshot below. More information on how to build RoadRunner using Visual Studio is found on this page: <a href='buildrr_visualstudio.html'>VisualStudioBuild</a></p>

<p><img alt='NqsPH.png' src='assets/images/NqsPH.png' /></p>

<h3 id='gcc'>GCC</h3>

<p>CMake generates regular make files for gcc. Installing and building the libraries are then just a matter of executing the command:</p>

<p><code>make install</code></p>

<p>in a terminal window. See the page <a href='buildrr_linux.html'>Linux Build</a> to get more information on how to build RoadRunner on Linux using the GCC compiler.</p>

<h2 id='notes_on_generating_or_updating_the_api_documentation'>Notes on Generating or updating the API Documentation</h2>

<p>The documentation is automatically generated using the comments in the copasi_api.h file. To change the documentation, you just need to edit that file. To generate the new documentation, follow these steps:</p>

<p>1) Download and install Doxygen from</p>

<p><a href='http://www.stack.nl/~dimitri/doxygen/download.html#latestsrc'>http://www.stack.nl/~dimitri/doxygen/download.html#latestsrc</a></p>

<p>2) Run Doxygen wizard (the executable is usually called doxywizard)</p>

<p>3) In the Doxygen window, enter &#8220;Copasi API&#8221; as the project name, and provide a version number. Set the copasi-simple-api folder as the source folder and copasi-simple-api/documentation as the destination folder. At the top of the window, specify the working directory as the copasi-simple-api/documentation folder.</p>

<p>4) Click Next. Select &#8220;Optimize for C&#8221; in the the programming languages option</p>

<p>5) Click Next a few times until you reach the end. At the top of the window</p>

<p>6) Go to the &#8220;Run&#8221; tab and click &#8220;Run doxygen&#8221;.</p>

<p>7) The documentation has been generated. Use svn commit on the copasi-simple-api/documentation folder to update the online documentation.</p>

<p>8) Tip: You might find that a new html file generated from doxygen does not render in the browser. In order to make the html render correctly, make sure you add the text/html mime type to the file. Under TortoiseSVN, select the file and choose properties from the TortoiseSVN popup menu. Select svn:mime-type in the property type and add text/html to the property value. Select OK and commit the change. The html file will now render correctly.</p>

<p>Alternatively you can make SVN do this for you by editing the SVN configuration file. To do this, select Settings under TortoiseSVN. In the general tab (usually the first you&#8217;ll see) there is a button marked Edit towards the right hand corner, select this and the config file will be loaded into your favourite editor. In the config file locate the line, miscellany and uncomment the line marked: enable-auto-props = yes. Finally, locate the line [auto-props] and add the following lines to the end of section:</p>

<pre><code>*.html = svn:mime-type=text/html
*.css = svn:mime-type=text/css
*.js = svn:mime-type=text/javascript
*.txt = svn:mime-type=text/plain;svn:eol-style=native
*.png = svn:mime-type=image/png
*.jpg = svn:mime-type=image/jpeg
*.pdf = svn:mime-type=application/pdf
*.jpeg = svn:mime-type=image/jpg
*.tiff = svn:mime-type=image/tiff
*.tif = svn:mime-type=image/tiff</code></pre>

      </section>
      <aside>
        <nav>
          <ul>
            <li><a href="/index.html">Documentation Home</a></li>
            <li><a href="/rr_cli.html">Roadrunner Command Line</a></li>
            <li><a href="/buildrr.html">Building Roadrunner</a></li>
            <li><a href="/knownissues.html">Known Issues</a></li>
            <li><a href="/api_testing.html">API Tests</a></li>
            <!--<li><a href="http://analogmachine.org/roadRunnerTracker/">New Bugs, Features</a></li>-->
            <!-- 
            
            


  



            -->
            <!-- 
            
            


  
    
      
      	
      	<li><a href="/api_testing.html">Tests by Compiler</a></li>
      	
      
    
  
    
      
      	
      	<li class="active"><a href="/buildrr.html" class="active">Build Roarunner from Source</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/buildrr_fedora.html">Fedora Build</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/buildrr_linux.html">Linux Build</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/buildrr_ubuntu_cmakecli.html">Build Roadrunner on Ubuntu CMake CLI</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/buildrr_ubuntu_cmakegui.html">Build RR on Ubuntu CMake GUI</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/buildrr_visualstudio.html">Build RoadRunner from Source on Windows</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/index.html">Documentation</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/knownissues.html">Known Issues</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/old_buildrr_visualstudio.html">RoadRunner Visual Studio 2010</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/rr_cli.html">Roadrunner CLI</a></li>
      	
      
    
  



            -->
          </ul>
        </nav>
      </aside>
      <footer class="main">
        <p>
       <small>Contact: <a href="mailto:roadrunner@u.washington.edu">roadrunner@u.washington.edu</a></small></br>
          <small>Documentation themed with <a href="http://sdb.github.com/jb-theme-ghminimal/">ghminimal</a>. Powered by <a href="http://github.com/mojombo/jekyll">Jekyll</a> and <a href="http://pages.github.com/">GitHub Pages</a>.</small>
        </p>
      </footer>
    </div>
    <script src="/assets/themes/ghminimal/js/scale.fix.js"></script>

    
  </body>
</html>

